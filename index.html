<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Viewport fit=cover is essential for iPhone Notches and Fullscreen PWA -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Weather Pro</title>
    <link rel="icon" href="https://fav.farm/⛅">
    
    <!-- ================= PWA CONFIGURATION ================= -->
    <link rel="manifest" href="manifest.json">
    
    <!-- iOS Native Experience -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Weather Pro">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0f172a">
    <!-- ===================================================== -->
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { sans: ['Outfit', 'sans-serif'] },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'fade-in': 'fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards',
                        'slide-up': 'slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'pulse-heart': 'pulseHeart 1.5s ease-in-out infinite',
                        'glow': 'glow 3s ease-in-out infinite alternate',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-8px)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        pulseHeart: {
                            '0%, 100%': { transform: 'scale(1)' },
                            '50%': { transform: 'scale(1.1)' },
                        },
                        glow: {
                            '0%': { boxShadow: '0 0 15px rgba(255, 255, 255, 0.1), inset 0 0 15px rgba(255, 255, 255, 0.1)' },
                            '100%': { boxShadow: '0 0 30px rgba(255, 255, 255, 0.3), inset 0 0 30px rgba(255, 255, 255, 0.3)' },
                        }
                    },
                    colors: {
                        glass: "rgba(255, 255, 255, 0.1)",
                        glassBorder: "rgba(255, 255, 255, 0.2)",
                    }
                }
            }
        }
    </script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Performance Optimizations */
        * { -webkit-tap-highlight-color: transparent; }
        body { overscroll-behavior-y: none; touch-action: manipulation; }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Enhanced Glassmorphism */
        .glass-panel {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.06));
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.15);
        }
        
        .glass-input {
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.2s ease;
        }

        /* Skeleton Loading Effect */
        .skeleton {
            background: linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 8px;
        }
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        #particle-canvas {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1;
        }
    </style>
</head>
<body class="antialiased bg-slate-950 text-white">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useCallback, useMemo } = React;

        // --- Optimized Icon Component ---
        const Icon = React.memo(({ name, size = 24, className = "", fill = "none", color }) => {
            useEffect(() => { lucide.createIcons(); }, [name]); 
            return <i data-lucide={name} className={className} fill={fill} style={{ width: size, height: size, color: color }}></i>;
        });

        // --- Config & Helpers ---
        const getAQIStatus = (aqi) => {
            if (aqi <= 50) return { 
                label: "Excellent", 
                color: "text-emerald-400", 
                bar: "bg-gradient-to-r from-emerald-400 to-green-500",
                heartAdvice: "Air quality is ideal for your heart. Enjoy outdoor activities!",
                riskLevel: "Low Risk"
            };
            if (aqi <= 100) return { 
                label: "Moderate", 
                color: "text-yellow-400", 
                bar: "bg-gradient-to-r from-yellow-400 to-orange-500",
                heartAdvice: "Air quality is acceptable. Sensitive individuals should check conditions.",
                riskLevel: "Moderate Risk"
            };
            if (aqi <= 150) return { 
                label: "Sensitive", 
                color: "text-orange-400", 
                bar: "bg-gradient-to-r from-orange-400 to-red-500",
                heartAdvice: "Sensitive groups may feel effects. Reduce prolonged outdoor exertion.",
                riskLevel: "Caution"
            };
            if (aqi <= 200) return { 
                label: "Unhealthy", 
                color: "text-red-500", 
                bar: "bg-gradient-to-r from-red-500 to-purple-600",
                heartAdvice: "Everyone may begin to experience health effects. Avoid outdoor exercise.",
                riskLevel: "High Risk"
            };
            return { 
                label: "Hazardous", 
                color: "text-rose-500", 
                bar: "bg-gradient-to-r from-red-500 to-purple-600",
                heartAdvice: "Health warnings of emergency conditions. Stay indoors.",
                riskLevel: "Critical"
            };
        };

        const getWeatherConfig = (code, isDay) => {
            const time = isDay ? 'day' : 'night';
            // Updated configs with more specific icon colors for the "Cool" look
            const configs = {
                clear: {
                    day: { gradient: "bg-gradient-to-b from-sky-400 via-blue-500 to-indigo-600", icon: "sun", label: "Clear Sky", accent: "shadow-amber-300/50", textColor: "text-white", iconColor: "#FDB813" }, // Sunny Yellow
                    night: { gradient: "bg-gradient-to-b from-slate-900 via-indigo-950 to-slate-950", icon: "moon", label: "Clear Night", accent: "shadow-blue-400/30", textColor: "text-white", iconColor: "#E0E7FF" } // Pale Blue Moon
                },
                cloudy: {
                    day: { gradient: "bg-gradient-to-b from-slate-400 via-slate-500 to-blue-600", icon: "cloud", label: "Cloudy", accent: "shadow-white/30", textColor: "text-white", iconColor: "#F1F5F9" }, // White Cloud
                    night: { gradient: "bg-gradient-to-b from-slate-800 via-slate-900 to-black", icon: "cloud", label: "Cloudy", accent: "shadow-slate-500/30", textColor: "text-white", iconColor: "#94A3B8" } // Gray Cloud
                },
                rain: {
                    day: { gradient: "bg-gradient-to-b from-blue-600 via-indigo-700 to-purple-900", icon: "cloud-rain", label: "Rainy", accent: "shadow-blue-400/40", textColor: "text-white", iconColor: "#60A5FA" }, // Light Blue Rain
                    night: { gradient: "bg-gradient-to-b from-slate-950 via-indigo-950 to-black", icon: "cloud-rain", label: "Rainy", accent: "shadow-indigo-500/30", textColor: "text-white", iconColor: "#3B82F6" } // Blue Rain
                },
            };
            
            if (code === 0) return configs.clear[time];
            if ([1, 2, 3].includes(code)) return configs.cloudy[time];
            if ([51, 61, 80].includes(code)) return configs.rain[time];
            
            return configs.clear[time];
        };

        const formatDayName = (dateString) => {
            const d = new Date(dateString);
            return d.toLocaleDateString('en-US', { weekday: 'short' });
        };

        // --- Components ---

        const WeatherSkeleton = () => (
            <div className="flex flex-col items-center w-full animate-fade-in p-6">
                <div className="w-32 h-6 skeleton mb-8 rounded-full"></div>
                <div className="w-[180px] h-[220px] skeleton rounded-[2.5rem] mb-8 opacity-50"></div>
                <div className="w-48 h-24 skeleton mb-4 rounded-2xl opacity-80"></div>
                <div className="w-24 h-6 skeleton mb-12 rounded-full opacity-60"></div>
                <div className="grid grid-cols-2 gap-4 w-full mb-8">
                    <div className="h-32 skeleton rounded-3xl opacity-40"></div>
                    <div className="h-32 skeleton rounded-3xl opacity-40"></div>
                    <div className="h-32 skeleton rounded-3xl opacity-40"></div>
                    <div className="h-32 skeleton rounded-3xl opacity-40"></div>
                </div>
            </div>
        );

        const SearchBar = ({ onSearch, onLocate }) => {
            const [query, setQuery] = useState('');
            const [suggestions, setSuggestions] = useState([]);
            
            useEffect(() => {
                const timer = setTimeout(async () => {
                    if (query.length > 2) {
                        try {
                            const res = await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(query)}&count=3&language=en&format=json`);
                            const data = await res.json();
                            if (data.results) setSuggestions(data.results);
                        } catch (e) {}
                    } else { setSuggestions([]); }
                }, 300);
                return () => clearTimeout(timer);
            }, [query]);

            return (
                <div className="relative w-full mb-2 z-50 flex gap-2">
                    <form onSubmit={(e) => { e.preventDefault(); if(suggestions[0]) onSearch(suggestions[0]); }} className="relative group flex-grow">
                        <div className="absolute left-4 top-3.5 text-white/60"><Icon name="search" size={18} /></div>
                        <input
                            type="text"
                            value={query}
                            onChange={(e) => setQuery(e.target.value)}
                            placeholder="Search City..."
                            className="w-full pl-11 pr-4 py-3.5 rounded-2xl glass-input bg-black/20 text-white placeholder-white/50 focus:bg-black/30 outline-none ring-0 font-medium text-sm backdrop-blur-md"
                        />
                    </form>
                    
                    <button 
                        onClick={() => onSearch('CURRENT')}
                        className="p-3.5 rounded-2xl glass-input bg-black/20 hover:bg-black/30 text-white transition-all active:scale-95 flex-shrink-0"
                        title="Use Current Location"
                    >
                        <Icon name="crosshair" size={20} />
                    </button>

                    {suggestions.length > 0 && (
                        <div className="absolute top-full mt-2 w-full glass-panel bg-black/80 rounded-2xl overflow-hidden shadow-2xl backdrop-blur-xl animate-slide-up left-0">
                            {suggestions.map(city => (
                                <button key={city.id} onClick={() => { onSearch(city); setSuggestions([]); setQuery(''); }} className="w-full p-3 text-left hover:bg-white/10 transition-colors border-b border-white/5 last:border-0 flex justify-between text-white">
                                    <span className="font-medium text-sm">{city.name}, <span className="opacity-60">{city.country_code}</span></span>
                                </button>
                            ))}
                        </div>
                    )}
                </div>
            );
        };

        const BentoGrid = ({ current, daily, themeMode }) => {
            const isLight = themeMode === 'light';
            const cardClass = isLight 
                ? 'bg-white/60 border-white/50 text-slate-900 shadow-sm' 
                : 'bg-slate-900/40 border-white/10 text-white shadow-lg';
            
            const items = [
                { icon: 'wind', label: 'Wind', val: `${Math.round(current.wind_speed_10m)}`, unit: 'km/h' },
                { icon: 'droplets', label: 'Humidity', val: `${current.relative_humidity_2m}`, unit: '%' },
                { icon: 'sun', label: 'UV Index', val: `${Math.round(daily.uv_index_max[0])}`, unit: '' },
                { icon: 'thermometer', label: 'Feels Like', val: `${Math.round(current.apparent_temperature)}°`, unit: '' },
            ];

            return (
                <div className="grid grid-cols-2 gap-3 w-full mb-6">
                    {items.map((item, i) => (
                        <div key={i} className={`glass-panel p-4 rounded-3xl flex flex-col items-start justify-between h-28 transition-transform active:scale-95 duration-200 ${cardClass}`}>
                            <div className="flex w-full justify-between opacity-70">
                                <span className="text-xs font-semibold uppercase tracking-wider">{item.label}</span>
                                <Icon name={item.icon} size={16} />
                            </div>
                            <div className="flex items-baseline gap-1">
                                <span className="text-3xl font-bold tracking-tight">{item.val}</span>
                                <span className="text-xs font-medium opacity-60">{item.unit}</span>
                            </div>
                        </div>
                    ))}
                </div>
            );
        };

        const AQICard = ({ aqi, themeMode }) => {
            if (!aqi) return null;
            const status = getAQIStatus(aqi);
            const isLight = themeMode === 'light';
            const cardClass = isLight 
                ? 'bg-white/60 border-white/50 text-slate-900 shadow-sm' 
                : 'bg-slate-900/40 border-white/10 text-white shadow-lg';
            
            return (
                <div className={`glass-panel w-full p-5 rounded-3xl mb-6 relative overflow-hidden ${cardClass}`}>
                    <div className="flex justify-between items-center mb-4 relative z-10">
                        <div className="flex items-center gap-2">
                            <div className={`p-1.5 rounded-lg ${isLight ? 'bg-slate-900/10' : 'bg-white/10'}`}><Icon name="wind" size={16} /></div>
                            <span className="text-sm font-bold uppercase tracking-wide opacity-70">Air Quality</span>
                        </div>
                        <span className={`text-xs font-bold px-2.5 py-1 rounded-full bg-white/10 ${status.color} border border-white/5`}>{status.label}</span>
                    </div>
                    
                    <div className="flex items-end gap-2 mb-4 relative z-10">
                        <span className="text-4xl font-bold tracking-tighter">{aqi}</span>
                        <span className="text-xs opacity-50 mb-1.5 font-medium">US AQI</span>
                    </div>
                    
                    <div className="h-2 w-full bg-black/10 rounded-full overflow-hidden relative z-10 mb-6">
                        <div className={`h-full ${status.bar} transition-all duration-1000 ease-out`} style={{ width: `${Math.min((aqi / 300) * 100, 100)}%` }}></div>
                    </div>

                    <div className={`relative p-4 rounded-2xl ${isLight ? 'bg-white/50' : 'bg-white/5'} border border-white/10 backdrop-blur-sm`}>
                        <div className="flex items-start gap-3">
                            <div className={`p-2 rounded-full bg-white/10 text-${status.color.split('-')[1]}-500 animate-pulse-heart`}>
                                <Icon name="heart" size={20} fill="currentColor" />
                            </div>
                            <div>
                                <h4 className="text-xs font-bold uppercase tracking-wide opacity-60 mb-1">Heart Impact</h4>
                                <p className="text-sm font-medium leading-snug opacity-90">{status.heartAdvice}</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const MainWeather = ({ weather, config, locationName, isSaved, onToggleSave }) => (
            <div className="flex flex-col items-center w-full mb-8 animate-slide-up">
                <div className="flex items-center gap-2 mb-1 text-white drop-shadow-md">
                    <Icon name="map-pin" size={16} className="opacity-90" />
                    <span className="text-lg font-semibold tracking-wide">{locationName}</span>
                    <button onClick={onToggleSave} className={`ml-1 transition-transform active:scale-75 ${isSaved ? 'text-yellow-400' : 'opacity-50 hover:opacity-100'}`}>
                        <Icon name="star" size={16} fill={isSaved ? "currentColor" : "none"} />
                    </button>
                </div>
                <div className="text-xs font-medium opacity-70 uppercase tracking-widest mb-8 text-white">
                    {new Date().toLocaleDateString('en-US', { weekday: 'long', day: 'numeric', month: 'long' })}
                </div>

                {/* Updated Hero Glass Box with Glow Animation */}
                <div className="relative group cursor-pointer perspective-1000">
                    <div className={`absolute inset-0 blur-[60px] opacity-40 rounded-full ${config.accent.replace('shadow-', 'bg-')}`}></div>
                    
                    <div className={`relative w-[160px] h-[200px] glass-panel rounded-[2.5rem] flex items-center justify-center border border-white/20 shadow-2xl transition-transform duration-500 group-hover:-translate-y-2 group-hover:shadow-3xl bg-white/10 backdrop-blur-md animate-glow`}>
                        <div className="animate-float">
                            {/* Using the specific icon color from config */}
                            <Icon name={config.icon} size={90} className="drop-shadow-xl" color={config.iconColor} />
                        </div>
                        <div className="absolute inset-3 border border-white/10 rounded-[2rem] pointer-events-none"></div>
                    </div>
                </div>

                <div className="mt-8 text-center text-white">
                    <h1 className="text-[5.5rem] font-bold leading-none tracking-tighter drop-shadow-lg">
                        {Math.round(weather.current.temperature_2m)}°
                    </h1>
                    <p className="text-lg font-medium opacity-90 mt-2 capitalize drop-shadow-sm">{config.label}</p>
                    <div className="flex gap-4 justify-center mt-2 text-sm font-medium opacity-80">
                        <span>H: {Math.round(weather.daily.temperature_2m_max[0])}°</span>
                        <span>L: {Math.round(weather.daily.temperature_2m_min[0])}°</span>
                    </div>
                </div>
            </div>
        );

        const App = () => {
            const [weather, setWeather] = useState(null);
            const [aqi, setAqi] = useState(null);
            const [loading, setLoading] = useState(true);
            const [location, setLocation] = useState(null);
            const [savedLoc, setSavedLoc] = useState(null);
            const [theme, setTheme] = useState('dark');

            const fetchData = async (lat, lon, name) => {
                setLoading(true);
                await new Promise(r => setTimeout(r, 800));
                
                try {
                    const [wRes, aRes] = await Promise.all([
                        fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,relative_humidity_2m,apparent_temperature,is_day,weather_code,wind_speed_10m&hourly=temperature_2m,weather_code&daily=weather_code,temperature_2m_max,temperature_2m_min,uv_index_max,sunrise,sunset&timezone=auto`),
                        fetch(`https://air-quality-api.open-meteo.com/v1/air-quality?latitude=${lat}&longitude=${lon}&current=us_aqi`)
                    ]);
                    
                    const wData = await wRes.json();
                    const aData = await aRes.json();
                    
                    setWeather(wData);
                    setAqi(aData.current?.us_aqi);
                    setLocation({ name, lat, lon });
                } catch(e) { console.error(e); } 
                finally { setLoading(false); }
            };

            const handleSearch = (loc) => {
                if (loc === 'CURRENT') {
                    navigator.geolocation.getCurrentPosition(
                        pos => fetchData(pos.coords.latitude, pos.coords.longitude, "My Location"),
                        () => fetchData(40.71, -74.00, "New York, US")
                    );
                } else {
                    fetchData(loc.latitude, loc.longitude, loc.name);
                }
            };

            useEffect(() => {
                const saved = localStorage.getItem('aetherLoc');
                if(saved) {
                    const p = JSON.parse(saved);
                    setSavedLoc(p);
                    fetchData(p.lat, p.lon, p.name);
                } else {
                    handleSearch('CURRENT');
                }
            }, []);

            const toggleSave = () => {
                if(savedLoc && savedLoc.name === location.name) {
                    localStorage.removeItem('aetherLoc');
                    setSavedLoc(null);
                } else {
                    localStorage.setItem('aetherLoc', JSON.stringify(location));
                    setSavedLoc(location);
                }
            };

            let config = getWeatherConfig(0, true);
            if (weather) {
                const isDay = weather.current.is_day === 1; 
                config = getWeatherConfig(weather.current.weather_code, isDay);
            }

            // PWA Installation and Link Handling Logic
            useEffect(() => {
                // 1. Register Service Worker (with error handling to fix unhandled rejection)
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('sw.js')
                        .then(reg => console.log('Service Worker registered', reg))
                        .catch(err => console.log('Service Worker registration failed (this is normal in preview mode):', err));
                }

                // 2. Intercept External Links to maintain Standalone Mode
                const handleLinkClick = (e) => {
                    const anchor = e.target.closest('a');
                    if (anchor && anchor.href) {
                        const url = new URL(anchor.href);
                        // If the link is NOT the same origin (external link), force open in new window
                        // This prevents the PWA from opening external sites inside the app window, showing the URL bar
                        if (url.origin !== window.location.origin) {
                            e.preventDefault();
                            window.open(anchor.href, '_blank');
                        }
                    }
                };
                
                document.addEventListener('click', handleLinkClick);
                return () => document.removeEventListener('click', handleLinkClick);
            }, []);

            return (
                <div className={`min-h-screen transition-colors duration-700 ${config.gradient} p-4 pb-10 overflow-x-hidden relative`}>
                    <div className="absolute inset-0 pointer-events-none opacity-30">
                        <div className="absolute top-20 -left-20 w-72 h-72 bg-white rounded-full blur-[120px] mix-blend-overlay animate-pulse-fast"></div>
                        <div className="absolute bottom-20 -right-20 w-80 h-80 bg-blue-400 rounded-full blur-[120px] mix-blend-overlay opacity-50"></div>
                    </div>

                    <div className="max-w-md mx-auto relative z-10 flex flex-col min-h-[90vh]">
                        
                        <div className="flex justify-between items-center mb-4">
                            <button onClick={() => window.location.reload()} className="p-3 glass-panel rounded-full hover:bg-white/20 transition-colors text-white"><Icon name="rotate-cw" size={18}/></button>
                            <div className="flex-1 px-2"><SearchBar onSearch={handleSearch} /></div>
                            <button onClick={() => setTheme(t => t === 'dark' ? 'light' : 'dark')} className="p-3 glass-panel rounded-full hover:bg-white/20 transition-colors text-white"><Icon name={theme==='dark'?'sun':'moon'} size={18}/></button>
                        </div>

                        {loading ? (
                            <WeatherSkeleton />
                        ) : weather && (
                            <>
                                <MainWeather 
                                    weather={weather} 
                                    config={config} 
                                    locationName={location.name} 
                                    isSaved={savedLoc?.name === location.name}
                                    onToggleSave={toggleSave}
                                />
                                
                                <BentoGrid current={weather.current} daily={weather.daily} themeMode={theme} />
                                <AQICard aqi={aqi} themeMode={theme} />
                                
                                <div className={`glass-panel rounded-3xl p-5 ${theme === 'light' ? 'bg-white/60 text-slate-900' : 'bg-slate-900/40 text-white'}`}>
                                    <h3 className="text-sm font-bold uppercase tracking-wider opacity-60 mb-4 flex items-center gap-2">
                                        <Icon name="calendar-days" size={16} /> 7-Day Forecast
                                    </h3>
                                    <div className="space-y-4">
                                        {weather.daily.time.slice(1, 6).map((t, i) => (
                                            <div key={t} className="flex justify-between items-center text-sm">
                                                <span className="w-12 font-medium">{formatDayName(t)}</span>
                                                <div className="flex-1 flex justify-center opacity-80">
                                                    <Icon name={getWeatherConfig(weather.daily.weather_code[i+1], true).icon} size={20} color={getWeatherConfig(weather.daily.weather_code[i+1], true).iconColor}/>
                                                </div>
                                                <div className="flex gap-3 w-20 justify-end font-semibold">
                                                    <span>{Math.round(weather.daily.temperature_2m_max[i+1])}°</span>
                                                    <span className="opacity-40">{Math.round(weather.daily.temperature_2m_min[i+1])}°</span>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </>
                        )}
                        
                        <footer className={`mt-12 py-6 text-center text-xs font-medium tracking-widest uppercase transition-colors ${theme === 'light' ? 'text-slate-800/60' : 'text-white/50'}`}>
                            <div className="flex flex-col items-center gap-2">
                                <p>Designed & Built by Abhra</p>
                                <a href="https://github.com/Hayagriva0" target="_blank" className="hover:text-blue-400 transition-colors flex items-center gap-1">
                                    <Icon name="github" size={12} />
                                    <span>Github Profile</span>
                                </a>
                                <span className="opacity-50 text-[10px] mt-2">Powered by Open-Meteo</span>
                            </div>
                        </footer>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
